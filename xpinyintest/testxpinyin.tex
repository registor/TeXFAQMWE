\documentclass{ctexart}

% 引入拼音宏包

\usepackage{xpinyin}

% 定义拼音宏

\def\zhpinyin{zhong1guo2}

\begin{document}

  \pinyin{zhong1guo2} % 正确

  % 需要手动展开宏才能够在\pinyin参数中使用宏命令
  \expandafter\pinyin\expandafter{\zhpinyin} % 无法使用定义的宏

  % 语法
  \ExplSyntaxOn
  \exp_args:NV \pinyin \zhpinyin
  \ExplSyntaxOff

  \xpinyin*{中国} % 正确

\end{document}
%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
